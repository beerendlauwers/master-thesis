var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(D){for(var A=0;A<DanaGetLength(D);A++){var B=D[A].string;var C=D[A].prop;this.versionSearchString=D[A].versionSearch||D[A].identity;if(B){if(B.indexOf(D[A].subString)!=-1){return D[A].identity}}else{if(C){return D[A].identity}}}},searchVersion:function(B){var A=B.indexOf(this.versionSearchString);if(A==-1){return }return parseFloat(B.substring(A+DanaGetLength(this.versionSearchString)+1))},dataBrowser:[{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};function debug_alert(A){return alert(A)}function MM_preloadImages(){var D=document;if(D.images){if(!D.MM_p){D.MM_p=new Array()}var C,B=DanaGetLength(D.MM_p),A=MM_preloadImages.arguments;for(C=0;C<DanaGetLength(A);C++){if(A[C].indexOf("#")!=0){D.MM_p[B]=new Image;DanaPutSrc(D.MM_p[B++],A[C],0)}}}defineHiddenInput(0,"",null)}function MM_swapImgRestore(){var C,A,B=document.MM_sr;for(C=0;B&&C<DanaGetLength(B)&&(A=B[C])&&A.oSrc;C++){DanaPutSrc(A,A.oSrc,0)}}function MM_findObj(E,D){var C,B,A;if(!D){D=document}if((C=E.indexOf("?"))>0&&DanaGetLength(DanaGetFrames(parent))){D=DanaGetFrames(parent)[E.substring(C+1)].document;E=E.substring(0,C)}if(!(A=D[E])&&D.all){A=D.all[E]}for(B=0;!A&&B<DanaGetLength(D.forms);B++){A=D.forms[B][E]}for(B=0;!A&&D.layers&&B<DanaGetLength(D.layers);B++){A=MM_findObj(E,D.layers[B].document)}if(!A&&D.getElementById){A=D.getElementById(E)}return A}function MM_swapImage(){var D,C=0,A,B=MM_swapImage.arguments;document.MM_sr=new Array;for(D=0;D<(DanaGetLength(B)-2);D+=3){if((A=MM_findObj(B[D]))!=null){document.MM_sr[C++]=A;if(!A.oSrc){A.oSrc=DanaGetSrc(A)}DanaPutSrc(A,B[D+2],0)}}}function MM_openBrWindow(C,A,B){DanaMethodOpen("open",window,C,A,B)}function confirmLink(C,B,A){if(confirm(C)){return B}else{return A}}function JavaScriptTest(){document.forms[0].JavaScript.value="Yes"}function noenter(){return !(window.event&&(window.event.keyCode==13))}function set_new_window_props(){var B;var C=parseInt(screen.width*0.85);var A=parseInt(screen.height*0.7);B="height="+A+",width="+C+",top=70,left=60,toolbar=yes,menubar=yes,resizable=yes,scrollbars=yes,status=no";return B}function openBrWindow(C,A,B){if(typeof B!="object"){B=set_new_window_props()}newWindow=DanaMethodOpen("open",window,C,A,B);newWindow.focus();return false}function open_window(B,A,C){var E;var D=navigator.userAgent.indexOf("Safari")>0;if(D){E=DanaMethodOpen("open",window,"",B,C);if(E!=null){DanaMethodClose("close",E)}}E=DanaMethodOpen("open",window,A,B,C);if(window.focus){E.focus()}return false}function open_location(C,A,B){if(DanaGetLength(A)){return openBrWindow(C,A,"")}else{return true}}function go_to_url(A){if(DanaGetLength(A)){DanaPutLocation(window,A,0);return true}else{return false}}function show_help(A){return openBrWindow(A,"Help")}function open_opac(B){var A=document.getElementById("opac");var C=A.value;if(DanaGetLength(B)){return openBrWindow(C,B,"")}else{DanaFuncLocationReplace(window,C)}}function open_ncbi(A,B){if(DanaGetLength(A)){return openBrWindow(B,A,"")}else{DanaFuncLocationReplace(window,B)}}function submit_quicksearch_go(){var A=document.forms[0].qs_topic.value;if(DanaGetLength(A)>0){if(A=="Enter a topic"){return false}else{return true}}else{document.forms[0].qs_topic.value="Enter a topic";return false}}function winsize(){var B,A;if(document.all){B=Math.round(document.body.clientHeight*(0.81));A=Math.round(document.body.clientWidth)}else{B=Math.round(document.height*(0.81));A=Math.round(document.width)}document.GeneralSearch_input_form.winh.value=B;document.GeneralSearch_input_form.winw.value=A}function check_the_input(D,A){var B=true;var E="1234567890, ";for(i=0;i<A;i++){var C=D.charAt(i);if(E.indexOf(C)!=-1){continue}B=false;break}return B}function process_input(E,B){var C=0;var A=0;num=new String();for(i=0;i<B;i++){var D=E.charAt(i);if(D==" "){if(C==1){C=C+1}continue}else{if(D==","){if(A==1){A=A+1}continue}else{if(C==0){C=1}else{if(C==2){C=0;return false}}if(A==0){A=1}else{if(A==3){A=0;return false}}num1=new String(DanaStringCheckLink(D));num=num.concat(num1)}}}return num}function process_page_number(D,B){var A=DanaGetLength(D);var C=document.getElementById("pleaseEnterANumberMsg");if(!check_the_input(D,A)){alert(C.value);return false}D=process_input(D,A);if(D<=0){alert(C.value);return false}return D}function mark_then_navigate(C,B){var A=document.forms.summary_records_form;update_mark_list("add");return go_to_page(C,B,null)}function go_to_page(B,J,H,K,G,D,I,C,E,F){var A=B.value;A=process_page_number(A,J);if(A>0){B.value=A;handle_nav(null,A,H,K,G,D,I,C,E,F)}else{B.select()}return false}function confirm_new_session(A){if(confirm('This will clear all your forms and inputs and start a new session. Click OK to continue.\n\n\nNote: To continue with your current session, click "New Search" link.')){DanaPutHref(location,A+"/new_session",0)}}function INSPEC_PreParse(D){var A=document.forms[D].elements["value(input1)"];var C=A.value;var B=DanaMethodReplace("replace",C,/>=/g,"=GTE ");B=DanaMethodReplace("replace",B,/<=/g,"=LTE ");B=DanaMethodReplace("replace",B,/>/g,"=GT ");B=DanaMethodReplace("replace",B,/</g,"=LT ");document.forms[D].elements["value(input1)"].value=B}function check_form_inputs(A,E){mergeMultiSelects();try{var H=document.forms[A].elements.search_mode.value;var D=document.forms[A].elements.product.value;if((H=="GeneralSearch"||H=="UA_GeneralSearch"||H=="AdvancedSearch"||H=="CitedReferenceSearch")&&E!="savePreferences"){var L=false;var C=false;if(D=="INSPEC"&&H=="GeneralSearch"){C=parse_INSPEC_special_fields(A,E)}if(!C){L=parse_search_inputs(A);if(!L){return false}}if(D=="INSPEC"&&H=="AdvancedSearch"){INSPEC_PreParse(A)}}else{if(H=="CompoundSearch"){var J=document.getElementById("input_invalid_notice");var K=true;for(i=0;i<DanaGetLength(document.forms[A].elements);i++){var F=document.forms[A].elements[i];if((F.type=="text"||F.type=="textarea")&&!(F.name=="formSimilarityMin"||F.name=="formSimilarityMax")){trim_input(F);if(DanaGetLength(F.value)>0){K=false;break}}if(F.name=="molecule"){trim_input(F);if(DanaGetLength(F.value)>0){K=false;break}}}if(K){if(J!=null){show_client_error("client_input_error",J.value)}return false}}else{if(H=="CitedPatentSearch"&&E!="savePreferences"){var J=document.getElementById("input_invalid_notice");var K=true;var G="Search Error: Patent search term could be found in more than one family (unique patent number required for Expand option) ";var I=false;var B=false;for(i=0;i<DanaGetLength(document.forms[A].elements);i++){var F=document.forms[A].elements[i];if(F.name=="value(input1)"){trim_input(F);if(F.value.indexOf("*")>=0||F.value.indexOf("?")>=0){B=true}}if(F.name=="value(select1)"){trim_input(F);if(F.value=="CX"){I=true}}if(F.type=="text"||F.type=="textarea"){trim_input(F);if(DanaGetLength(F.value)>0){K=false}}}if(B&&I){if(G!=null){show_client_error("client_input_error",G)}return false}if(K){if(J!=null){show_client_error("client_input_error",J.value)}return false}}}}DanaGetAction(document.forms[A]).value=E}catch(F){}return true}function parse_search_inputs(C){var E=document.forms[C].elements.fieldCount;var D;var K=false;var L=false;var I=0;var H=document.forms[C].elements.search_mode.value;if(H=="AdvancedSearch"){I=document.forms[C].elements["value(limitCount)"].value;if(I==null){I=1}}else{I=E.value}try{for(D=1;D<=I;D++){var B=document.getElementById("value(input"+D+")");if(B==null){continue}var F=B.type;if(F=="text"||F=="textarea"){trim_input(B);if(!K&&DanaGetLength(B.value)!=0){K=true}}else{if(F=="select-multiple"){L=true}}}}catch(G){}var J=document.getElementById("input_invalid_notice");var A=document.getElementById("input_invalid_notice_limits");if(!K&&L){show_client_error("client_input_error",J.value+A.value)}else{if(!K){show_client_error("client_input_error",J.value)}}return K}function parse_INSPEC_special_fields(C,E){var J=document.forms[C].elements.fieldCount.value;var F=document.getElementById("search_table");var G;var D=false;for(G=1;G<=J;G++){var K=document.getElementById("searchrow"+G);var M="";var A=document.getElementById("select"+G);var L=A.selectedIndex;var B=A.options[L].id;var N=A.value;if(B.match("NQ_")){M=parse_INSPEC_numqty_double_inputs(C,G)}else{if(N.match("CH")){parse_INSPEC_chemical_input(C,G,B)}else{}}if(M!=""&&M!=" "){var I=document.getElementById("value(inputX)");var H=I.cloneNode(true);H.id=("value(input"+G+")");H.name=("value(input"+G+")");H.value=M;DanaMethodAppendChild("appendChild",K,H);D=true}}return D}function parse_INSPEC_numqty_double_inputs(B,E){var I="";var G="";var D="";var C=false;var A=false;var H=document.getElementById("value(double_input_1_row"+E+")");trim_input(H);if(H!=null&&H.value!=""){G=H.value;C=true}var F=document.getElementById("value(double_input_2_row"+E+")");trim_input(F);if(F!=null&&F.value!=""){D=F.value;A=true}if(C==true&&A==true){I=G+" "+D}else{if(C==true){I="GTE "+G}else{if(A==true){I="LTE "+D}}}return I}function change_select(A,C){var B=0;if(A!=null){for(i=0;i<DanaGetLength(A);i++){if(A.options[i].value==C){A.options[i].selected=true;B=1;break}}}return B}function parse_INSPEC_chemical_input(C,G,F){var B="";var A=document.getElementById("value(input"+G+")");if(A.value!=""){var E=new Array();E=F.split("_");var D=E[0];if(D=="all"){return }if(!A.value.match("/")){A.value=A.value+"/"+D}}return true}function select_week_button(A){if(!DanaGetLength(A)){A=0}document.GeneralSearch_input_form.period[A].checked=true;return true}function select_year_range_button(A){if(!DanaGetLength(A)){A=1}document.GeneralSearch_input_form.period[A].checked=true;return true}function do_all_named_checkboxes(C,H,B){var E=false;if(C){var D=B;var A;for(A=0;A<DanaGetLength(C.elements);A++){var F=C.elements[A];if(F.tagName=="INPUT"&&F.type=="checkbox"&&F.name==H){F.checked=D;E=true}}if(!B){var G=C.selectedRecs;if(G!=null){C.selectedRecs.value=0}}}return E}function select_named_checkboxes(B){var A=false;if(typeof (B)=="object"){for(i=0;i<DanaGetLength(B);i++){var C=document.getElementById(B[i]);if(C&&C.tagName=="INPUT"&&C.type=="checkbox"){C.checked=true}}}return A}function check_summary_records_form_inputs(G){var C=document.summary_records_form;var B;var F=false;for(B=0;B<DanaGetLength(C.elements);B++){var E=C.elements[B];if(E.tagName=="INPUT"&&E.type=="checkbox"&&E.name==G&&E.checked){F=true;break}}if(!F){try{var D=C.selectedRecs.value;if(D>0){F=true}}catch(E){}}if(!F){var A=document.getElementById("quickOutputSelectAtLeastOneCheckbox").value;alert(A)}return F}function set_refine_or_exclude(A,C){if(A==null){return false}var B=document.forms[A];var D=document.forms[A].elements.exclude;if(D!=null){if(C=="exclude"){D.value="exclude"}else{D.value=""}}return true}function check_refine_inputs(B,A){var D=check_refine_form(B);if(!D){D=check_refine_form(A)}if(!D){var C=document.getElementById("refineSelectAtLeastOneCheckbox").value;alert(C)}else{merge_input_forms(B,A)}return D}function check_refine_form(C){if(C==null){return false}var E=document.forms[C];var B;var H=false;var A=document.getElementById("sws");if(A!=null){trim_input(A);var G=A.value;if(DanaGetLength(G)>0){H=true}}if(!H){var D=document.getElementsByName("refineSelection");if(D!=null){for(B=0;B<DanaGetLength(D);B++){var F=D[B];if(F.checked){H=true;break}}}}return H}function merge_input_forms(O,N){if(O==null){return }if(N==null){return }var E=document.forms[O];if(E==null){return }var D=document.forms[N];if(D==null){return }var P=DanaGetLength(D.elements);var F;var B=DanaMethodCreateElement("createElement",document,"wrappingDiv");B.style.visibility="hidden";DanaMethodAppendChild("appendChild",E,B);for(F=0;F<P;F++){var G=D.elements[F];var C=G.tagName;var I=G.type;var A=G.name;var L=G.value;var M=G.cloneNode(true);DanaMethodAppendChild("appendChild",B,M);if(I=="checkbox"){var K=G.checked;var J=DanaGetLength(E.elements);E.elements[J-1].checked=G.checked}var H=DanaMethodCreateElement("createElement",document,"br");DanaMethodAppendChild("appendChild",B,H)}}function click_ra_more(){var A=document.getElementById("clickRaMore").value;var B=check_refine_form("refine_form");if(!B){B=check_refine_form("refine_more_form")}if(B){return confirm(A)}return true}function addTextWithExtras(C,D){try{var B=document.getElementById(C);var A=B.cloneNode(true);A.id="RadsNChecksContainer"+D;return A}catch(E){}}function addSearchRow(g,J,b){try{var V=document.getElementById("fieldCount");var f=document.getElementById("max_field_count");var a=document.getElementById("max_field_notice").value;if((parseInt(V.value)+1)>(parseInt(f.value))){alert(a);return false}var W=document.getElementById("search_table");var c=DanaGetLength(W.rows);var Y=c-1;var Q=W.insertRow(Y);Q.id="searchrow"+Y;var I=Q.insertCell(0);I.align="center";I.vAlign="top";I.noWrap="nowrap";var A=document.getElementById("value(bool_1_2)");var n=A.cloneNode(true);n.name="value(bool_"+(Y-1)+"_"+(Y)+")";n.id="value(bool_"+(Y-1)+"_"+(Y)+")";n.value="AND";DanaMethodAppendChild("appendChild",I,n);var G=Q.insertCell(1);G.vAlign="top";var N=DanaMethodCreateElement("createElement",document,"div");N.id="container(input"+Y+")";var o=document.getElementById("text_field_default");var U=o.cloneNode(true);U.name="value(input"+Y+")";U.id="value(input"+Y+")";U.value="";DanaMethodAppendChild("appendChild",N,U);if(b!=null&&DanaGetLength(b)>0){var B=addTextWithExtras(b,Y)}var H=document.getElementById("TS_example");var q=H.cloneNode(true);q.id="example"+Y;DanaMethodAppendChild("appendChild",G,N);if(B!=null){DanaMethodAppendChild("appendChild",G,B)}DanaMethodAppendChild("appendChild",G,q);var F=Q.insertCell(2);F.vAlign="top";F.noWrap="nowrap";var d=document.getElementById("in1");var X=d.cloneNode(true);X.id="in"+Y;DanaMethodAppendChild("appendChild",F,X);var h=document.getElementById("select1");var O;if(navigator.appVersion.indexOf("MSIE")!=-1){var K=DanaMethodReplace("replace",h.outerHTML,/select1/g,"select"+Y);O=DanaMethodCreateElement("createElement",document,K)}else{O=h.cloneNode(true);O.name="value(select"+Y+")";O.id="select"+Y}var l=DanaMethodReplace("replace",h.innerHTML,/selected/,"");DanaPutInnerHTML(O,"&nbsp;&nbsp;"+l,0);DanaPutInnerHTML(F,"&nbsp;",1);DanaMethodAppendChild("appendChild",F,O);DanaPutInnerHTML(F,"&nbsp;&nbsp;&nbsp;",1);var P=document.getElementById("select"+Y);P.name="value(select"+Y+")";var E=Q.insertCell(3);E.vAlign="top";E.align="left";var C=document.getElementById("saicon1");var m;m=C.cloneNode(true);m.name="saicon"+Y;m.id="saicon"+Y;var Z=isActivateSA("TS",g);if(Z!=""){DanaPutSrc(m,J+"/sa_icon.gif",0);m.width=18;m.title="Access the search aid"}else{DanaPutSrc(m,J+"/spacer.gif",0);m.width=0;m.title=null}DanaMethodAppendChild("appendChild",E,m);var D=Q.insertCell(4);var M=document.getElementById("value(hidInput1)");var L=document.getElementById("value(hidShowIcon1)");var T,S,R;S=M.cloneNode(true);R=L.cloneNode(true);S.name="value(hidInput"+Y+")";S.id="value(hidInput"+Y+")";R.name="value(hidShowIcon"+Y+")";R.id="value(hidShowIcon"+Y+")";S.value=Z;if(Z!=""){R.value="1"}else{R.value="0"}DanaMethodAppendChild("appendChild",D,S);DanaMethodAppendChild("appendChild",D,R);V.value=parseInt(V.value)+1}catch(p){}}function searchFieldChanged(J,F,D){try{var I=(J.id).substring(6);var A=document.getElementById("value(input"+I+")");var K=J.selectedIndex;var B=J.options[K].id;var C=J.value;var G="";if(B==C+"_search_limit"){G=C+"Drop";swapSearchElements(I,C,G,null)}else{if(B.match("double_inputs")){G="double_input";swapSearchElements(I,C,G,null)}else{if(B.match("radio_group")){G=C+"Radios";swapSearchElements(I,C,G,null)}else{if(B.match("checkbox_group")){G=C+"Checks";swapSearchElements(I,C,G,null)}else{if(A!=null){if((A.type=="select-multiple")||(A.type=="select-one")){G="text_field_default";swapSearchElements(I,C,G,null)}}else{G="text_field_default";swapSearchElements(I,C,G,null)}}}}}if((!G.match("Checks"))&&(!G.match("Radios"))){var E=document.getElementById("RadsNChecksContainer"+I);if(E!=null){DanaPutInnerHTML(E,"",0)}}swapExample(C,I);defineHiddenInput(I,F,D)}catch(H){}}function swapExample(C,B){var D=document.getElementById(C+"_example");var A=document.getElementById("example"+B);DanaPutInnerHTML(A,D.innerHTML,0)}function swapSearchElements(C,F,G,D){if(G.match("double_input")){swapWithDoubleInputs(C,G,"","");return false}if((G.match("Radios"))||(G.match("Checks"))){addRadsNChecksGroup(C,G,"","");G="text_field_default"}var B=document.getElementById(G);var A=B.cloneNode(true);A.name="value(input"+C+")";A.id="value(input"+C+")";if((D==null)&&(G.match(F+"Drop"))){A.selectedIndex=0}else{if(D!=null){selectMultiSelects(A,D)}}var E=document.getElementById("container(input"+C+")");DanaPutInnerHTML(E,"",0);DanaMethodAppendChild("appendChild",E,A);return true}function swapWithDoubleInputs(J,G,D,B){var H=document.getElementById(G+"_"+1);var E=H.cloneNode(true);E.name="value("+G+"_"+1+"_row"+J+")";E.id="value("+G+"_"+1+"_row"+J+")";E.value=D;var A=document.getElementById("to_el");var I=A.cloneNode(true);I.id="to_el"+J;var F=document.getElementById(G+"_"+2);var C=F.cloneNode(true);C.name="value("+G+"_"+2+"_row"+J+")";C.id="value("+G+"_"+2+"_row"+J+")";C.value=B;var K=document.getElementById("container(input"+J+")");DanaPutInnerHTML(K,"",0);DanaMethodAppendChild("appendChild",K,E);DanaMethodAppendChild("appendChild",K,I);DanaMethodAppendChild("appendChild",K,C)}function addRadsNChecksGroup(D,G,B,A){var C=document.getElementById(G);var E=C.cloneNode(true);E.id=G+D;var F=document.getElementById("RadsNChecksContainer"+D);DanaPutInnerHTML(F,"",0);DanaPutInnerHTML(F,E.innerHTML,0)}function toggle_limit_settings(A){try{if(A=="show"){document.getElementById("showLimits").style.display="block";document.getElementById("currentSettings").style.display="none";document.getElementById("hideLimitsLabel").style.display="block";document.getElementById("changeLimitsLabel").style.display="none";document.getElementById("limitStatus").value="expanded"}else{document.getElementById("showLimits").style.display="none";document.getElementById("currentSettings").style.display="block";document.getElementById("hideLimitsLabel").style.display="none";document.getElementById("changeLimitsLabel").style.display="block";document.getElementById("limitStatus").value="collapsed"}}catch(B){}}function more_hide(A){el=document.getElementById(A);if(el.style.display=="none"){el.style.display="";el=document.getElementById("more"+A);DanaPutInnerHTML(el,"[hide]",0)}else{el.style.display="none";el=document.getElementById("more"+A);DanaPutInnerHTML(el,"[more]",0)}}function toggleRefineResultsPanel(G,J,M,F,A,C,H,L){var K="refine_panel";var E="summary_left_td";var I=document.getElementById(K);var B=document.getElementById(E);var D=document.getElementById(K+"_img");if(I.style.display=="none"){DanaPutSrc(D,G,0);D.alt=A;D.title=H;I.style.display="";if(B&&M!=null){B.className=M}ra_showRefinePanel(K)}else{DanaPutSrc(D,J,0);D.alt=C;D.title=L;I.style.display="none";if(B&&F!=null){B.className=F}ra_hideRefinePanel(K)}}function check_all(B){if(typeof B!="object"){return false}var A=DanaGetLength(B);if(typeof A=="undefined"){B.checked=true;return false}for(i=0;i<A;i++){B[i].checked=true}return false}function list_selected_checks(C){if(typeof C!="object"){return false}var A=DanaGetLength(C);var B=new Array();if(typeof A=="undefined"){A=1}for(i=0;i<A;i++){if(C[i].checked==true){B.push(C[i].value)}}return B}function daisy_mc_submit(E,D){var C=document.summary_records_form.selectedClusterCount.value;var B=document.getElementById("selectAtLeastOneDAISYSet");var A=document.getElementById("daisyExceededMaxAllowedRecs");if(C>0){if(C>D){alert(A.value);return false}else{DanaPutAction(document.summary_records_form,E,0)}}else{alert(B.value);return false}}function submit_form(A){document.forms.summary_records_form.submit();return true}function submit_summary_form(C,E,B){var D=true;if(E&&DanaGetLength(E)>0){D=check_summary_records_form_inputs(E)}if(D==true){var A=document.forms.summary_records_form;if(B&&DanaGetLength(B)>0){A.elements.search_mode.value=B}DanaPutAction(A,C,0)}if(D==true){mergeMultiSelects()}return D}function get_url_components(D){var B=D.elements.qid;if(B==null){B=D.elements.parentQid}var G=B.value;var A=D.SID.value;var E=D.product.value;var F=D.search_mode.value;var C="qid="+G+"&SID="+A+"&product="+E+"&search_mode="+F;return C}function submit_go_to_page(B,J,H,K,G,D,I,C,E,F){var A=B.value;A=process_page_number(A,J);if(A>0){B.value=A;submit_handle_nav(null,A,H,K,G,D,I,C,E,F)}else{B.select()}return false}function submit_handle_nav(E,M,I,G,H,C,J,B,D,K){mergeMultiSelects();var F=document.forms.summary_records_form;if(E){var A=E.elements.page;A.value=M}document.forms.summary_records_form.elements.page.value=M;if(I&&DanaGetLength(I)>0){DanaMethodSetAttribute("setAttribute",document.forms.summary_records_form,"action",I)}else{document.forms.summary_records_form.elements.redirect_url.value=DanaMethodGetAttribute("getAttribute",document.forms.summary_records_form,"paging_url")+M}if(G!=null){var L=G+M;if(C!=null){L+="&action="+C;if(J!=null){L+="&sortBy="+J}}if(D!=null){L+="&action="+D;if(K!=null){L+="&pageSize="+K}if(B!=null){L+="&showFirstPage="+B;document.forms.summary_records_form.elements.showFirstPage.value="1"}}document.forms.summary_records_form.submit();return false}else{document.forms.summary_records_form.submit();return false}}function handle_nav(E,M,I,G,H,C,J,B,D,K){mergeMultiSelects();var F=document.forms.summary_records_form;if(E){var A=E.elements.page;A.value=M}document.forms.summary_records_form.elements.page.value=M;if(I&&DanaGetLength(I)>0){DanaMethodSetAttribute("setAttribute",document.forms.summary_records_form,"action",I)}else{document.forms.summary_records_form.elements.redirect_url.value=DanaMethodGetAttribute("getAttribute",document.forms.summary_records_form,"paging_url")+M}if(G!=null){var L=G+M;if(C!=null){L+="&action="+C;if(J!=null){L+="&sortBy="+J}}if(D!=null){L+="&action="+D;if(K!=null){L+="&pageSize="+K}if(B!=null){L+="&showFirstPage="+B;document.forms.summary_records_form.elements.showFirstPage.value="1"}}DanaPutLocation(window,L,0);return false}else{document.forms.summary_records_form.submit();return false}}function handle_sort(H,C,B,G,F,E,D){if(B!=null){var A=B+G;if(F!=null){A+="&action="+F;if(E!=null){A+="&sortBy="+E;if(D!=null){A+="&showFirstPage="+D}}}if(H!=null){}DanaPutLocation(window,A,0);return false}else{if(H!=null){H.submit()}else{}}return false}function verifyUTCount(curUTCount,elemid,maxAllowed){previousUTCount=document.summary_records_form.selectedClusterCount.value;var sel_checkbox=document.getElementById(elemid);var error_msg=document.getElementById("daisyExceededMaxAllowedRecs");var curr_sel=0;if(sel_checkbox.checked){curr_sel=eval(DanaEval(previousUTCount))+curUTCount}else{curr_sel=eval(DanaEval(previousUTCount))-curUTCount}if(curr_sel<0){curr_sel=0}document.summary_records_form.selectedClusterCount.value=curr_sel}function do_RR_action(B){var D=document.forms.summary_records_form;var C="Related.do?";var A=C+B;DanaPutAction(D,A,0);DanaPutLocation(window,A,0);return false}function do_RAMore_sort_action(C,D){var B=document.forms.refine_more_form;var E=B.elements.more_sort_order;if(C.value=="alpha"){E.value="alpha"}else{E.value="default"}var F="RAMore.do?";var A=F+D;DanaPutLocation(window,A+"&more_sort_order="+C.value,0);return true}function update_signin_and_quick_output(D,A,B){update_quick_output(D);var C=document.forms.summary_records_form;if(C==null){C=document.forms.full_record_form;C.elements.next_mode.value=C.elements.mode.value;C.elements.mode.value="saveDataAndSignIn";if(B!=null){A+="&rurl="+B}C.elements.redirect_url.value=A}else{var E=C.elements.mode.value;C.elements.next_mode.value=E;C.elements.mode.value="saveDataAndSignIn";if(B!=null){A+="&rurl="+B}C.elements.redirect_url.value=A;C=document.forms.summary_output_form;if(C!=null){C.elements.next_mode.value=E;C.elements.mode.value="saveDataAndSignIn";C.elements.redirect_url.value=A}else{}}}function update_quick_output(J){var C=document.forms.summary_records_form;var L=document.forms.summary_output_form;var B=new Array();var D=document.getElementById("dont_populate_summary_records_form");if(C!=null){if(C.marked_list_candidates!=null){C.mode.value="quickOutput";L.mode.value="quickOutput";var E=new Array();try{if(C.marked_list_candidates.type=="checkbox"){var A=C.marked_list_candidates.value;if(C.marked_list_candidates.checked==true){B.push(A)}E.push(A)}else{for(var F=0;F<DanaGetLength(C.marked_list_candidates);F++){var A=C.marked_list_candidates[F].value;if(C.marked_list_candidates[F].checked==true){B.push(A)}E.push(A)}}if(L.record_select_type[1].checked==true){B=E}}catch(I){}var G="";try{if(L.qo_fields.type=="hidden"){var K=document.forms.summary_output_form.elements["abstract"].checked;if(K==true){G="BibAbs"}else{G="Bib"}}else{if(L.qo_fields[0].checked==true){var K=document.forms.summary_output_form.elements["abstract"].checked;if(K==true){G="BibAbs"}else{G="Bib"}}else{if(L.qo_fields[1].checked==true){if(L.citedref!=null&&L.citedref.checked==true){G="Full"}else{G="FullNoCitRef"}}}}}catch(I){}document.forms.summary_output_form.elements.selectedIds.value=B.join(";");document.forms.summary_output_form.elements.format.value=J;document.forms.summary_output_form.elements.fields.value=G;if(D==null){document.forms.summary_records_form.elements.selectedIds.value=B.join(";");document.forms.summary_records_form.elements.format.value=J;document.forms.summary_records_form.elements.fields.value=G;for(var F=0;F<DanaGetLength(L.record_select_type);F++){if(L.record_select_type[F].checked){document.forms.summary_records_form.elements.record_select_type.value=L.record_select_type[F].value}}try{document.forms.summary_records_form.elements.mark_to.value=document.forms.summary_output_form.elements.mark_to.value;document.forms.summary_records_form.elements.mark_from.value=document.forms.summary_output_form.elements.mark_from.value}catch(I){}}}}else{var H=document.forms.full_record_form;var G="";if(H.qo_fields[0].checked==true){var K=document.forms.full_record_form.elements["abstract"].checked;if(K==true){G="BibAbs"}else{G="Bib"}}else{if(H.qo_fields[1].checked==true){if(H.citedref!=null&&H.citedref.checked==true){G="Full"}else{G="FullNoCitRef"}}}document.forms.full_record_form.elements.format.value=J;document.forms.full_record_form.elements.fields.value=G}}function disable_auto_submit(){var A=document.forms.summary_records_form;if(A){DanaMethodSetAttribute("setAttribute",A,"auto_submit_url",null)}return true}function auto_submit_markedlist(B){var A=document.forms.summary_records_form;var D=0;if(A){mark_selected_records_onpage("add");if(B&&DanaGetLength(B)>0){var C=A.elements.redirect_url;if(C!=null){C.value=B}}else{D=A.count_new_items_marked.value;if(D>0){postAsyncForm("summary_records_form","auto_submit_url")}}}disable_auto_submit();return false}function auto_submit_checkboxes(B){var A=document.forms.summary_records_form;if(A){postAsyncCheckboxForm("summary_records_form","auto_submit_url")}return false}function update_mark_list(G){var C=document.forms.summary_records_form;var H=null;if(C!=null){H=C.mark_id}var I=document.forms.summary_output_form;var B=new Array();if(C!=null){if(H!=null&&(H.value=="RXN"||H.value=="CPD")){var E=0;if(G=="add_page"){for(var D=0;D<DanaGetLength(C.marked_list_candidates);D++){C.marked_list_candidates[D].checked=true}G="add"}for(var D=0;D<DanaGetLength(C.marked_list_candidates);D++){if(C.marked_list_candidates[D].checked==true){var A=C.marked_list_candidates[D].value;B.push(A)}}C.selectedIds.value=B.join(";");E=DanaGetLength(B);C.mode.value="addToMark";C.count_new_items_marked.value=E}else{if(C.marked_list_candidates!=null){var E=0;if(G=="add_page"){for(var D=0;D<DanaGetLength(C.marked_list_candidates);D++){C.marked_list_candidates[D].checked=true}G="add"}if(I.record_select_type[0].checked==true){mark_selected_records_onpage(G);return }else{if(I.record_select_type[1].checked==true){for(var D=0;D<DanaGetLength(C.marked_list_candidates);D++){var A=C.marked_list_candidates[D].value;B.push(A)}I.selectedIds.value=B.join(";");C.selectedIds.value=B.join(";");E=DanaGetLength(B)}else{if(I.record_select_type[2].checked==true){C.mark_to.value=I.mark_to.value;C.mark_from.value=I.mark_from.value;E=C.mark_to.value-C.mark_from.value+1}}}if(G=="add"){I.mode.value="addToMark";C.mode.value="addToMark"}I.count_new_items_marked.value=E;C.count_new_items_marked.value=E;for(var D=1;D<DanaGetLength(I.record_select_type);D++){if(I.record_select_type[D].checked){C.record_select_type.value=I.record_select_type[D].value}}}}}else{var F=document.forms.full_record_form;if(G=="add"){document.forms.full_record_form.elements.mode.value="addToMark";document.forms.full_record_form.elements.count_new_items_marked.value="1"}}}function get_named_inputs(D){var B=new Array();var A=document.forms.summary_records_form;if(A!=null&&A.elements[D]!=null){var C=A.elements[D].type;if(C=="hidden"||C=="checkbox"){B[0]=A.elements[D]}else{B=A.elements[D]}}return B}function get_markedlist_checkboxes(){var B=new Array();var A=document.forms.summary_records_form;if(A!=null&&A.marked_list_candidates!=null){if(A.marked_list_candidates.type=="checkbox"){B[0]=A.marked_list_candidates}else{B=A.marked_list_candidates}}return B}function update_markedlist_indicators(G){if(!G){return false}var C=null;var M=DanaMethodGetAttribute("getAttribute",G,"records_form_name");if(M&&DanaGetLength(M)>0){C=document.forms[M]}else{C=document.forms.summary_records_form;if(!C){C=document.forms.full_record_form}}var F=new Array();if(C){var J=C.elements.mark_id;if(J){G.elements.mark_id.value=J.value;var I=get_named_inputs("ml_indicator_candidates");if(DanaGetLength(I)>0){for(var E=0;E<DanaGetLength(I);++E){F.push(I[E].value)}}else{var L=null;var B=G.elements.startRec;if(B){L=B.value}if(L==null){L=1}var H=get_markedlist_checkboxes();if(DanaGetLength(H)>0){var K,A;for(var E=0;E<DanaGetLength(H);++E,++L){A="ml_indicator_"+L;K=document.getElementById(A);if(K==null||DanaGetLength(K.innerHTML)==0){F.push(H[E].value);F.push(L)}}}else{var D=C.elements.selectedIds;if(D){F.push(D.value);F.push(L)}}}G.elements.candidates.value=F.join(";")}}return((DanaGetLength(F)>0))}function mark_selected_records_onpage(G){var A=document.forms.summary_records_form;var B=document.forms.summary_output_form;var D=new Array();var F=null;if(A!=null){F=A.mark_id}if(A!=null&&F!=null&&(F.value=="RXN"||F.value=="CPD")){B=A}if(A!=null){if(G=="add"){B.mode.value="addToMark";A.mode.value="addToMark"}if(A.marked_list_candidates!=null){try{if(A.marked_list_candidates.type=="checkbox"){var H=A.marked_list_candidates.value;if(A.marked_list_candidates.checked==true){D.push(H)}}else{for(var C=0;C<DanaGetLength(A.marked_list_candidates);C++){var H=A.marked_list_candidates[C].value;if(A.marked_list_candidates[C].checked==true){D.push(H)}}}}catch(E){}try{B.selectedIds.value=D.join(";");A.selectedIds.value=D.join(";");if(F!=null&&F.value!="RXN"&&F.value!="CPD"){A.record_select_type.value=B.record_select_type[0].value}B.count_new_items_marked.value=DanaGetLength(D);A.count_new_items_marked.value=DanaGetLength(D)}catch(E){}}}}function check_qo_input(){if(!check_output_range()){return false}return true}function check_ml_input(){if(!check_output_range("marked_list")){return false}return true}function check_output_range(M){var E=document.forms.summary_records_form;if(E!=null&&E.marked_list_candidates==null){var H=document.getElementById("quickOutputNotAvailable").value;alert(H);return false}var A=document.getElementById("record_select_type_range");if(A==null||A.checked==false){if(DanaGetLength(document.forms.summary_output_form.elements.selectedIds.value)==0){var B=document.getElementById("no_checks_selected_error");if(B!=null){alert(B.value);return false}}return true}var O=document.forms.summary_output_form.elements.mark_from;var G=document.forms.summary_output_form.elements.mark_to;O.value=DanaMethodReplace("replace",(O.value),/^\s*|\s*$/g,"");G.value=DanaMethodReplace("replace",(G.value),/^\s*|\s*$/g,"");if(O==null||G==null){return true}var J=/\D/;if(J.test(O.value)||J.test(G.value)){var D=document.getElementById("range_specialchar_error");if(D!=null){alert(D.value);return false}}var L=parseInt(O.value);var K=parseInt(G.value);if(isNaN(L)||isNaN(K)||(L==0)||(K==0)||(L>K)||(L<0)){var C=document.getElementById("range_notsequential_error");if(C!=null){alert(C.value);return false}}var I=document.getElementById("result_count");if(I!=null){var F=document.getElementById("range_notinset_error");if(I!=null&&((K>I.value)||(L>I.value))){if(F!=null){alert(F.value);return false}}}if((K-L)>499){var N=(M=="marked_list")?document.getElementById("ml_range_morethan500_error"):document.getElementById("range_morethan500_error");if(N!=null){alert(N.value);return false}}return true}function set_output_range_option(){var A=document.getElementById("record_select_type_range");A.checked=true;return true}function open_cwc_location(D,B){var C=parseInt(screen.width*0.85);var A=parseInt(screen.height*0.7);winprops="height="+A+",width="+C+",top=70,left=60,directories=yes,location=yes,menubar=yes,resizable=yes,scrollbars=yes,status=yes,toolbar=yes";newwindow=DanaMethodOpen("open",window,D,B,winprops);if(window.focus){newwindow.focus()}return false}function handle_nav_final_counts_MovedToAsyncJS(D,F){var C=document.getElementById("hitCount.top");var A=document.getElementById("pageCount.top");var B=document.getElementById("hitCount.bottom");var E=document.getElementById("pageCount.bottom");if(C.innerHTML.match(/\.\.\./)){DanaPutInnerHTML(C,"",0);DanaPutInnerHTML(C,D,0)}if(A.innerHTML.match(/\.\.\./)){DanaPutInnerHTML(A,"",0);DanaPutInnerHTML(A,F,0)}if(B.innerHTML.match(/\.\.\./)){DanaPutInnerHTML(B,"",0);DanaPutInnerHTML(B,D,0)}if(E.innerHTML.match(/\.\.\./)){DanaPutInnerHTML(E,"",0);DanaPutInnerHTML(E,F,0)}}function updateExtendedOption(A,C,B){if(document.getElementById(B).value==A){document.getElementById(B).value=C}else{document.getElementById(B).value=A}}function initMultiSelectDelimiter(){var A=", ";if(document.forms[0].product.value=="MEDLINE"){A=";;"}return A}function selectMultiSelects(A,E){var B=initMultiSelectDelimiter();var C=0;if(DanaGetLength(E)>0){A.options[0].selected=false;var D=E.split(B);for(i=0;i<DanaGetLength(A);i++){for(j=0;j<DanaGetLength(D);j++){if(A.options[i].value==D[j]){A.options[i].selected=true;C=1}}}}if(C==0){A.options[0].selected=true}}function trim_input(A){if(A!=null){A.value=DanaMethodReplace("replace",A.value,/^\s+|\s+$/g,"")}}function show_client_error(C,D){var B=document.getElementById(C);if(B!=null){var A=document.getElementById("client_error_input_message");if(B.style.display=="none"){DanaPutInnerHTML(A,D,0);B.style.display="block"}else{DanaPutInnerHTML(A,D,0)}}return false}function mergeMultiSelects(){var B=initMultiSelectDelimiter();for(i=0;i<DanaGetLength(document.forms);i++){var D=document.forms[i];for(j=0;j<DanaGetLength(D.elements);j++){if(D.elements[j].type=="select-multiple"){var A=D.elements[j];var C="";for(k=0;k<DanaGetLength(A.options);k++){if(A.options[k].selected==true){if(DanaGetLength(C)>0){C=C+B+A.options[k].value}else{C=A.options[k].value}A.options[k].selected=false}}A.options[0].value=C;A.options[0].selected=true}}}}function _trim(B){if(B==null){return B}var A=DanaMethodReplace("replace",B,/^\s+|\s+$/g,"");return A}function hide_show(B,A){document.getElementById(B).style.display=A}function is_enter_key(B){var A=(B.charCode)?B.charCode:((B.which)?B.which:B.keyCode);return((A==13||A==3))}function submit_on_enter(D,C){if(!C){C=event}var A=C.which;if(!A){A=C.keyCode}var B=navigator.userAgent.indexOf("Safari")>0;if(B&&A==3){A=13}if(A==13){disable_auto_submit();update_mark_list(D);if(check_ml_input()){document.forms.summary_output_form.submit();return false}}return true}function check_chem_editions(H,E){var G=document.getElementById("editions_not_selected_error").value;var I=document.getElementById("no_ccr_or_ic_error").value;var K=document.getElementById("no_ccr_error").value;var N=document.getElementById("input_invalid_notice").value;var A=document.forms.WOS_StructureSearch_input_form;var O=DanaGetFrames(parent)[0].document.forms.moleculeForm;var L=A;var D=0;var B=0;var M=true;DanaGetAction(A).value=E;for(F=0;F<DanaGetLength(A.elements);F++){var J=A.elements[F];if(J.type=="text"||J.type=="textarea"){trim_input(J);if(DanaGetLength(J.value)>0){M=false;break}}}if(M){try{var C=document.getElementById("RXATMOSPHERE");if(C!=null&&C.value!=""){M=false}if(M&&O.molecule.value==""&&A.molecule.value==""){show_client_error("client_input_error",N);return false}}catch(J){}}for(var F=0;F<DanaGetLength(L);F++){if(L[F].value=="CCR"){B=1;if(L[F].checked){B=2}}if(L[F].value=="IC"){D=1;if(L[F].checked){D=2}}}if(D==1&&B==1||D==0&&B==1||D==1&&B==0){if(H=="yes"){show_client_error("client_input_error",G)}else{show_client_error("client_input_error",I)}return false}if(H=="yes"){return true}if(B==1&&(DanaGetLength(A.RXPRESSURE.value)!=0||DanaGetLength(A.RXTIME.value)!=0||DanaGetLength(A.RXTEMP.value)!=0||DanaGetLength(A.RXYIELD.value)!=0||DanaGetLength(A.RXOTHER.value)!=0||DanaGetLength(A.RXKEYPHRASES.value)!=0||DanaGetLength(A.RXCOMMENTS.value)!=0||A.RXREFLUX.checked||DanaGetLength(A.RXATMOSPHERE.value)!=0)){show_client_error("client_input_error",K);return false}return true}function inlinewrap(A){BrowserDetect.init();var C=document.getElementById(A);if(BrowserDetect.browser=="Explorer"){var B=C.innerHTML;DanaPutInnerHTML(C,"",0);DanaPutInnerHTML(C,'<div style="inline;">'+B+"</div>",0)}C.style.display="inline";return true}function providefeedback(C,B){var D=document.forms[0];var A;var K;var H="Cluster_Feedback_Form";var L=parseInt(screen.width*0.8);var I=parseInt(screen.height*0.8);var F;var J="";var E=document.summary_records_form.selectedClusterCount.value;if(E<1){var G=document.getElementById("daisyFeedbackSelectAtLeastOneCheckbox").value;alert(G);return false}A="height="+I+",width="+L+",top=70,left=60,directories=yes,location=yes,menubar=yes,resizable=yes,scrollbars=yes,status=yes,toolbar=yes";K=DanaMethodOpen("open",window,C,H,A);document.summary_records_form.target=H;handle_nav(null,B,C);document.summary_records_form.target=window.name;if(window.focus){K.focus()}return false}function isEmpty(E){var D=document.forms[0];var A=-1;var C=document.getElementById("Name");if(DanaGetLength(C.value)==0){alert(E);C.focus();return false}for(i=0;i<DanaGetLength(D.author_verify);i++){if(D.author_verify[i].checked){A=1}}if(A==-1){var B=document.getElementById("daisyFeedbackSelectAreYouAuthor").value;alert(B);D.author_verify[0].focus();return false}return true}function check_plugin(B){var A=plugin_check(B);var C="";if(!A){C="&ISIPlugin=false"}DanaPutLocation(window,B+C,0);return true}function prepare_window_location(A){return go_to_url(A)}function IsAllowedRightClick(B){var A=document.getElementsByName("LinksAreAllowedRightClick");for(i=0;i<DanaGetLength(A);i++){if(DanaGetHref(B).indexOf(A[i].value)>(-1)){if(DanaGetHref(B).indexOf("&cacheurlFromRightClick=no")<=(-1)){DanaPutHref(B,DanaGetHref(B)+"&cacheurlFromRightClick=no",0)}if(navigator.appName.indexOf("Microsoft Internet Explorer")>(-1)){addEvent(B,"click",CLHandlerRmCFRC(B))}if(navigator.appName.indexOf("Netscape")>(-1)){DanaMethodSetAttribute("setAttribute",B,"onclick","javascript:return RmCacheurlFromRightClick(this);")}return true}}return false}function RmCacheurlFromRightClick(A){if(DanaGetHref(A).indexOf("&cacheurlFromRightClick=no")>(-1)){DanaPutHref(A,DanaMethodReplace("replace",DanaGetHref(A),"&cacheurlFromRightClick=no",""),0)}return true}function addEvent(D,A,B){if(D.addEventListener){D.addEventListener(A,B,false);return true}else{if(D.attachEvent){var C=D.attachEvent("on"+A,B);return C}else{return false}}}addEvent(window,"load",function(){for(i=0;i<DanaGetLength(document.links);i++){if(navigator.appName.indexOf("Microsoft Internet Explorer")>(-1)){addEvent(document.links[i],"contextmenu",CTHandler(document.links[i]))}if(navigator.appName.indexOf("Netscape")>(-1)){var A=document.links[i];DanaMethodSetAttribute("setAttribute",A,"oncontextmenu","javascript:return IsAllowedRightClick(this);")}}});function displayProd(C){var D=document.getElementById("editions_"+C);D.style.display="inline";var B=document.getElementById("editions_more_"+C);B.style.display="none";var A=document.getElementById("editions_hide_"+C);A.style.display="inline"}function undisplayProd(C){var D=document.getElementById("editions_"+C);D.style.display="none";var B=document.getElementById("editions_more_"+C);B.style.display="inline";var A=document.getElementById("editions_hide_"+C);A.style.display="none"}function CTHandler(A){return function(){return IsAllowedRightClick(A)}}function CLHandlerRmCFRC(A){return function(){return RmCacheurlFromRightClick(A)}};